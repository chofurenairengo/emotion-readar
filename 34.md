# #34 感情解釈サービス - 入出力形式

## 入力形式

### `interpret`メソッド

```python
emotion_scores: dict[str, float]
```

| キー | 値 |
|------|-----|
| 感情名 | スコア（0.0〜1.0） |

**例:**
```python
{
    "happy": 0.1,
    "confused": 0.8,
    "neutral": 0.1
}
```

**対応する感情名:**
- `happy` - 喜び
- `sad` - 悲しみ
- `angry` - 怒り
- `surprised` - 驚き
- `confused` - 困惑
- `neutral` - 中立
- `fearful` - 恐怖
- `disgusted` - 嫌悪

---

### `detect_change`メソッド

```python
previous: dict[str, float]  # 前回の感情スコア
current: dict[str, float]   # 現在の感情スコア
threshold: float = 0.3      # 変化検出の閾値（デフォルト: 0.3）
```

---

## 出力形式

### `interpret` → `EmotionInterpretation`

```python
@dataclass
class EmotionInterpretation:
    primary_emotion: str   # 主要感情（例: "confused"）
    intensity: str         # 強度: "low" | "medium" | "high"
    description: str       # 説明（例: "相手は困惑しているようです"）
    suggestion: str | None # 行動提案（neutralの場合はNone）
```

**出力例:**
```python
EmotionInterpretation(
    primary_emotion="confused",
    intensity="high",
    description="相手はとても困惑しています",
    suggestion="説明を補足すると良いかもしれません"
)
```

---

### `detect_change` → `EmotionChange | None`

```python
@dataclass
class EmotionChange:
    from_emotion: str  # 変化前の主要感情
    to_emotion: str    # 変化後の主要感情
```

**出力例:**
```python
EmotionChange(
    from_emotion="happy",
    to_emotion="confused"
)
```

変化が閾値未満の場合は `None` を返す。

---

## 強度判定基準

| スコア範囲 | 強度 |
|-----------|------|
| 0.0 ≤ score < 0.4 | `low` |
| 0.4 ≤ score < 0.7 | `medium` |
| 0.7 ≤ score ≤ 1.0 | `high` |
